---
title: Authentication
description: Learn how to authenticate with the Norai API
---

import { ApiBlock } from '@/components/api-block-mdx'

# Authentication

The Norai API uses API key authentication for secure server-to-server communication. Your API keys carry many privileges, so keep them secure and never expose them in client-side code.

## API Key Authentication

All API requests to the ML layer must include your API key in the Authorization header using Bearer token authentication.

<ApiBlock
  method="POST"
  endpoint="/ml/generate-recommendations"
  curl={`curl -X POST "https://api.norai.com/ml/generate-recommendations" \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "project_id": "your-project-id",
    "external_user_id": "user_123",
    "limit": 10
  }'`}
  nodejs={`const response = await fetch('https://api.norai.com/ml/generate-recommendations', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    project_id: 'your-project-id',
    external_user_id: 'user_123',
    limit: 10
  })
});

const data = await response.json();`}
  python={`import requests

response = requests.post(
    "https://api.norai.com/ml/generate-recommendations",
    headers={
        "Authorization": "Bearer YOUR_API_KEY",
        "Content-Type": "application/json"
    },
    json={
        "project_id": "your-project-id",
        "external_user_id": "user_123",
        "limit": 10
    }
)

data = response.json()`}
/>

## SDK Authentication (iOS)

For the iOS SDK, you'll need to configure it with your API key and project ID:

```swift
import Norai

// Configure Norai SDK in your AppDelegate or App init
Norai.shared.configure(
    apiKey: "nk_your_api_key_here",
    projectId: "your-project-id"
)
```

## Creating API Keys

You can create API keys in your developer account:

<ApiBlock
  method="POST"
  endpoint="/v1/developer/credentials"
  curl={`curl -X POST "https://api.norai.com/v1/developer/credentials" \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "name": "Production Key",
    "permissions": ["events:write", "recommendations:read", "segments:read"],
    "expires_at": "2025-12-31T23:59:59Z"
  }'`}
  nodejs={`const response = await fetch('https://api.norai.com/v1/developer/credentials', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'Production Key',
    permissions: ['events:write', 'recommendations:read', 'segments:read'],
    expires_at: '2025-12-31T23:59:59Z'
  })
});

const data = await response.json();

// Store the returned key securely
console.log(data.key.key);    // API key (only shown once)`}
/>

## Security Considerations

- Never expose your API keys in client-side code
- Store API keys securely in environment variables
- Create keys with the minimum required permissions
- Rotate keys periodically
- Set appropriate expiration dates for keys
- Use separate keys for development and production

## Permission Scopes

API keys can be created with the following permission scopes:

- `events:write` - Track user events
- `events:read` - Read event data
- `recommendations:read` - Generate and fetch recommendations
- `segments:read` - Read user segments
- `segments:write` - Create and manage segments
- `analytics:read` - Access analytics data
